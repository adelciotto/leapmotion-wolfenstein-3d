Wolf.ActorAI=function(){function o(o,e){var l=e.player.position;switch(o.type){case Wolf.en_mutant:Wolf.Sound.startSound(l,o,1,Wolf.CHAN_VOICE,"sfx/037.wav",1,Wolf.ATTN_NORM,0);break;case Wolf.en_guard:Wolf.Sound.startSound(l,o,1,Wolf.CHAN_VOICE,u[Wolf.Random.rnd()%6],1,Wolf.ATTN_NORM,0);break;case Wolf.en_officer:Wolf.Sound.startSound(l,o,1,Wolf.CHAN_VOICE,"sfx/074.wav",1,Wolf.ATTN_NORM,0);break;case Wolf.en_ss:Wolf.Sound.startSound(l,o,1,Wolf.CHAN_VOICE,"sfx/046.wav",1,Wolf.ATTN_NORM,0);break;case Wolf.en_dog:Wolf.Sound.startSound(l,o,1,Wolf.CHAN_VOICE,"sfx/035.wav",1,Wolf.ATTN_NORM,0);break;case Wolf.en_boss:Wolf.Sound.startSound(l,o,1,Wolf.CHAN_VOICE,"sfx/019.wav",1,Wolf.ATTN_NORM,0);break;case Wolf.en_schabbs:Wolf.Sound.startSound(l,o,1,Wolf.CHAN_VOICE,"sfx/061.wav",1,Wolf.ATTN_NORM,0);break;case Wolf.en_fake:Wolf.Sound.startSound(l,o,1,Wolf.CHAN_VOICE,"sfx/069.wav",1,Wolf.ATTN_NORM,0);break;case Wolf.en_mecha:Wolf.Sound.startSound(l,o,1,Wolf.CHAN_VOICE,"sfx/084.wav",1,Wolf.ATTN_NORM,0);break;case Wolf.en_hitler:Wolf.Sound.startSound(l,o,1,Wolf.CHAN_VOICE,"sfx/044.wav",1,Wolf.ATTN_NORM,0);break;case Wolf.en_gretel:Wolf.Sound.startSound(l,o,1,Wolf.CHAN_VOICE,"sfx/115.wav",1,Wolf.ATTN_NORM,0);break;case Wolf.en_gift:Wolf.Sound.startSound(l,o,1,Wolf.CHAN_VOICE,"sfx/091.wav",1,Wolf.ATTN_NORM,0);break;case Wolf.en_fat:Wolf.Sound.startSound(l,o,1,Wolf.CHAN_VOICE,"sfx/119.wav",1,Wolf.ATTN_NORM,0)}}function e(o,e){e.level.state.areabyplayer[o.areanumber]&&Wolf.Sound.startSound(e.player.position,o,1,Wolf.CHAN_VOICE,"sfx/080.wav",1,Wolf.ATTN_NORM,0)}function l(o,e){Wolf.Sound.startSound(e.player.position,o,1,Wolf.CHAN_VOICE,"lsfx/061.wav",1,Wolf.ATTN_NORM,0)}function f(o,e){var l,f=[500,700,800,900],a=e.level;l=Wolf.Actors.getNewActor(a),l&&(l.x=o.x,l.y=o.y,l.distance=o.distance,l.tile.x=o.tile.x,l.tile.y=o.tile.y,l.angle=o.angle,l.dir=o.dir,l.health=f[e.skill],l.areanumber=o.areanumber,l.state=Wolf.st_chase1,l.type=Wolf.en_hitler,l.speed=5*Wolf.SPDPATROL,l.ticcount=0,l.flags=o.flags|Wolf.FL_SHOOTABLE,l.sprite=Wolf.Sprites.getNewSprite(a))}function a(o){Wolf.Sound.startSound(null,null,1,Wolf.CHAN_VOICE,"lsfx/080.wav",1,Wolf.ATTN_NORM,0)}function t(o){N=0}function s(o){return 3==++N?void Wolf.Actors.stateChange(o,Wolf.st_pain):1&Wolf.Random.rnd()?void Wolf.Actors.stateChange(o,Wolf.st_chase1):void 0}function n(o){Wolf.Game.startIntermission(o)}function W(o,e){var l,f,a,t,s,n,W,r,i,_=e.level,d=e.player,c=!1;if(l=o.x-d.position.x,f=o.y-d.position.y,l<-Wolf.MINACTORDIST||l>Wolf.MINACTORDIST?c=!0:(f<-Wolf.MINACTORDIST||f>Wolf.MINACTORDIST)&&(c=!0),c){for(a=o.x-Wolf.MINDIST>>Wolf.TILESHIFT,t=o.x+Wolf.MINDIST>>Wolf.TILESHIFT,s=o.y-Wolf.MINDIST>>Wolf.TILESHIFT,n=o.y+Wolf.MINDIST>>Wolf.TILESHIFT,r=s;n>=r;++r)for(W=a;t>=W;++W){if(_.tileMap[W][r]&Wolf.SOLID_TILE)return;for(i=0;i<_.state.numGuards;++i)if(!(_.state.guards[i].state>=Wolf.st_die1)&&_.state.guards[i].tile.x==W&&_.state.guards[i].tile.y==r)return}o.flags|=Wolf.FL_AMBUSH|Wolf.FL_SHOOTABLE,o.flags&=~Wolf.FL_ATTACKMODE,o.dir=Wolf.Math.dir8_nodir,Wolf.Actors.stateChange(o,Wolf.st_path1)}}function r(o,e){e.playstate=Wolf.ex_complete,setTimeout(function(){Wolf.Game.startIntermission(o)},5e3)}function i(o,e){var l=e.level,f=Wolf.Actors.getNewActor(l);f&&(f.x=o.x,f.y=o.y,f.tile.x=o.tile.x,f.tile.y=o.tile.y,f.state=Wolf.st_die1,f.type=o.type==Wolf.en_hrocket?Wolf.en_hsmoke:Wolf.en_smoke,f.ticcount=6,f.flags=Wolf.FL_NEVERMARK,f.sprite=Wolf.Sprites.getNewSprite(l))}function _(o,e){switch(o.type){case Wolf.en_guard:Wolf.Sound.startSound(e.player.position,o,1,Wolf.CHAN_VOICE,"sfx/001.wav",1,Wolf.ATTN_NORM,0),o.speed*=3;break;case Wolf.en_officer:Wolf.Sound.startSound(e.player.position,o,1,Wolf.CHAN_VOICE,"sfx/071.wav",1,Wolf.ATTN_NORM,0),o.speed*=5;break;case Wolf.en_mutant:o.speed*=3;break;case Wolf.en_ss:Wolf.Sound.startSound(e.player.position,o,1,Wolf.CHAN_VOICE,"sfx/015.wav",1,Wolf.ATTN_NORM,0),o.speed*=4;break;case Wolf.en_dog:Wolf.Sound.startSound(e.player.position,o,1,Wolf.CHAN_VOICE,"sfx/002.wav",1,Wolf.ATTN_NORM,0),o.speed*=2;break;case Wolf.en_boss:Wolf.Sound.startSound(e.player.position,o,1,Wolf.CHAN_VOICE,"sfx/017.wav",1,Wolf.ATTN_NORM,0),o.speed=3*Wolf.SPDPATROL;break;case Wolf.en_gretel:Wolf.Sound.startSound(e.player.position,o,1,Wolf.CHAN_VOICE,"sfx/112.wav",1,Wolf.ATTN_NORM,0),o.speed*=3;break;case Wolf.en_gift:Wolf.Sound.startSound(e.player.position,o,1,Wolf.CHAN_VOICE,"sfx/096.wav",1,Wolf.ATTN_NORM,0),o.speed*=3;break;case Wolf.en_fat:Wolf.Sound.startSound(e.player.position,o,1,Wolf.CHAN_VOICE,"sfx/102.wav",1,Wolf.ATTN_NORM,0),o.speed*=3;break;case Wolf.en_schabbs:Wolf.Sound.startSound(e.player.position,o,1,Wolf.CHAN_VOICE,"sfx/065.wav",1,Wolf.ATTN_NORM,0),o.speed*=3;break;case Wolf.en_fake:Wolf.Sound.startSound(e.player.position,o,1,Wolf.CHAN_VOICE,"sfx/054.wav",1,Wolf.ATTN_NORM,0),o.speed*=3;break;case Wolf.en_mecha:Wolf.Sound.startSound(e.player.position,o,1,Wolf.CHAN_VOICE,"sfx/040.wav",1,Wolf.ATTN_NORM,0),o.speed*=3;break;case Wolf.en_hitler:Wolf.Sound.startSound(e.player.position,o,1,Wolf.CHAN_VOICE,"sfx/040.wav",1,Wolf.ATTN_NORM,0),o.speed*=5;break;case Wolf.en_blinky:case Wolf.en_clyde:case Wolf.en_pinky:case Wolf.en_inky:o.speed*=2;break;default:return}Wolf.Actors.stateChange(o,Wolf.st_chase1),o.waitfordoorx&&(o.waitfordoorx=o.waitfordoory=0),o.dir=Wolf.Math.dir8_nodir,o.flags|=Wolf.FL_ATTACKMODE|Wolf.FL_FIRSTATTACK}function d(o,e,l,f){if(l.madenoise=1,o.flags&Wolf.FL_ATTACKMODE||(f<<=1),o.health-=f,o.health<=0)c(o,e,l);else switch(o.flags&Wolf.FL_ATTACKMODE||_(o,e),o.type){case Wolf.en_guard:case Wolf.en_officer:case Wolf.en_mutant:case Wolf.en_ss:1&o.health?Wolf.Actors.stateChange(o,Wolf.st_pain):Wolf.Actors.stateChange(o,Wolf.st_pain1)}}function c(e,l,f){var a=l.level,t=e.tile.x=e.x>>Wolf.TILESHIFT;switch(tiley=e.tile.y=e.y>>Wolf.TILESHIFT,e.type){case Wolf.en_guard:Wolf.Player.givePoints(f,100),Wolf.Powerups.spawn(a,t,tiley,Wolf.pow_clip2);break;case Wolf.en_officer:Wolf.Player.givePoints(f,400),Wolf.Powerups.spawn(a,t,tiley,Wolf.pow_clip2);break;case Wolf.en_mutant:Wolf.Player.givePoints(f,700),Wolf.Powerups.spawn(a,t,tiley,Wolf.pow_clip2);break;case Wolf.en_ss:Wolf.Player.givePoints(f,500),f.items&Wolf.ITEM_WEAPON_3?Wolf.Powerups.spawn(a,t,tiley,Wolf.pow_clip2):Wolf.Powerups.spawn(a,t,tiley,Wolf.pow_machinegun);break;case Wolf.en_dog:Wolf.Player.givePoints(f,200);break;case Wolf.en_boss:Wolf.Player.givePoints(f,5e3),Wolf.Powerups.spawn(a,t,tiley,Wolf.pow_key1);break;case Wolf.en_gretel:Wolf.Player.givePoints(f,5e3),Wolf.Powerups.spawn(a,t,tiley,Wolf.pow_key1);break;case Wolf.en_gift:Wolf.Player.givePoints(f,5e3),r(l,e);break;case Wolf.en_fat:Wolf.Player.givePoints(f,5e3),r(l,e);break;case Wolf.en_schabbs:Wolf.Player.givePoints(f,5e3),o(e,l),r(l,e);break;case Wolf.en_fake:Wolf.Player.givePoints(f,2e3);break;case Wolf.en_mecha:Wolf.Player.givePoints(f,5e3);break;case Wolf.en_hitler:Wolf.Player.givePoints(f,5e3),o(e,l),r(l,e)}Wolf.Actors.stateChange(e,Wolf.st_die1),++a.state.killedMonsters==a.state.totalMonsters&&Wolf.Game.notify("You killed the last enemy!"),e.flags&=~Wolf.FL_SHOOTABLE,e.flags|=Wolf.FL_NONMARK}var u=["sfx/025.wav","sfx/026.wav","sfx/086.wav","sfx/088.wav","sfx/105.wav","sfx/107.wav","sfx/109.wav"],N=0;return{firstSighting:_,damageActor:d,killActor:c,deathScream:o,mechaSound:e,slurpie:l,hitlerMorph:f,breathing:a,startAttack:t,relaunch:s,victory:n,dormant:W,startDeathCam:r,smoke:i}}();